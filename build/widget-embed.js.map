{"version":3,"file":"widget-embed.js","mappings":";;;;;AAAAA,MAAM,CAACC,gBAAgB,CAAC,SAAS,EAAEC,OAAO,CAAC;AAC3C,SAASA,OAAOA,CAACC,KAAmB,EAAE;EACpC,MAAMC,aAAa,GAAGD,KAAK,CAACE,IAAI;EAChC,MAAMC,QAAQ,GAAGF,aAAa,CAAC,UAAU,CAAC;EAC1C,IAAI,CAACE,QAAQ,EAAE;IACb;EACF;EAEA,MAAMC,aAAa,GAAGC,QAAQ,CAACC,cAAc,CAAE,gBAAeH,QAAS,EAAC,CAAC;EACzE,IAAI,CAACC,aAAa,EAAE;IAClB;EACF;EAEA,MAAMG,IAAI,GAAGH,aAAa,CAACI,YAAY,CAAC,WAAW,CAAC;EACpD,IAAIR,KAAK,CAACS,MAAM,KAAKF,IAAI,IAAIN,aAAa,CAAC,WAAW,CAAC,KAAK,eAAe,IAAIA,aAAa,CAACS,WAAW,KAAK,QAAQ,EAAE;IACrH;IACA,MAAMC,SAAS,GAAGV,aAAa,CAACW,OAAO,CAACC,MAAM;IAC9CT,aAAa,CAACU,KAAK,CAACC,KAAK,GAAI,MAAK;IAClC,IAAIJ,SAAS,EAAE;MACbP,aAAa,CAACU,KAAK,CAACD,MAAM,GAAI,GAAEF,SAAU,IAAG;IAC/C;EACF;AACF,C","sources":["webpack://alibitech-vendy/./src/widget-embed.ts"],"sourcesContent":["window.addEventListener('message', handler);\nfunction handler(event: MessageEvent) {\n  const widgetMessage = event.data;\n  const widgetId = widgetMessage['widgetId'];\n  if (!widgetId) {\n    return;\n  }\n\n  const widgetElement = document.getElementById(`vendy-widget-${widgetId}`);\n  if (!widgetElement) {\n    return;\n  }\n\n  const host = widgetElement.getAttribute('data-host');\n  if (event.origin === host && widgetMessage['SIGNATURE'] === 'vendy-message' && widgetMessage.messageType === 'resize') {\n    // set height\n    const newHeight = widgetMessage.newSize.height;\n    widgetElement.style.width = `100%`;\n    if (newHeight) {\n      widgetElement.style.height = `${newHeight}px`;\n    }\n  }\n}\n"],"names":["window","addEventListener","handler","event","widgetMessage","data","widgetId","widgetElement","document","getElementById","host","getAttribute","origin","messageType","newHeight","newSize","height","style","width"],"sourceRoot":""}